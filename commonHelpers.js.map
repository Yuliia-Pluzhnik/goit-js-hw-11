{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst refs = {\n  form: document.querySelector(\".search-form\"),\n  input: document.querySelector(\".search-input\"),\n  container: document.querySelector(\".container\"),\n  list: document.querySelector(\".gallery\"),\n  loader: document.querySelector(\".loader\"),\n};\n\nfunction showLoader() {\n    if (refs.loader) {\n      refs.loader.style.display = 'block';\n    }\n  }\n  \n  function hideLoader() {\n    if (refs.loader) {\n      refs.loader.style.display = 'none';\n    }\n  }\n\nrefs.form.addEventListener(\"submit\", e => {\n  e.preventDefault();\n  const searchQuery = refs.input.value;\nif (searchQuery === \"\") {\n    iziToast.error({\n        title: 'Error',\n        message: 'Please enter a search query.',\n        position: \"topRight\"\n      });\n      return;\n}\n\nshowLoader()\n\n\nfunction getImage(query) {\n    const BASE_URL = \"https://pixabay.com\";\n    const END_POINT = \"/api/\";\n    const params = new URLSearchParams({\n      key: \"43022038-5a6e0a87a795a8bbaa0a62c30\",\n      q: query,\n      type: \"photo\",\n      orientation: \"horizontal\",\n    });\n    const url = `${BASE_URL}${END_POINT}?${params}`;\n  \n    return fetch(url).then(res => res.json());\n  }\n\n  getImage(searchQuery)\n  .then(data => {\n    displayImages(data.hits);\n  })\n  .catch(error => {\n    console.error(error);\n  });\n\n});\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    captionDelay: 250,\n  });\n\n  function displayImages(images) {\n    refs.list.innerHTML = '';\n  \n    if (images.length === 0) {\n      iziToast.info({\n        title: 'Info',\n        message:\n          'Sorry, there are no images matching your search query. Please try again.',\n          position: \"topRight\"\n      });\n      return;\n    };\n  \n    const markup = createMarkup(images);\n    refs.list.innerHTML = markup;\n  \n    lightbox.refresh();\n    hideLoader();\n  }\n  \n\n  function createMarkup(images) {\n    return images\n      .map(\n        ({\n          webformatURL,\n          largeImageURL,\n          tags,\n          likes,\n          views,\n          comments,\n          downloads,\n        }) =>\n          `<li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img\n            class=\"gallery-image\"\n            src=\"${webformatURL}\"\n            alt=\"${tags}\"\n            width=\"360\"\n          />\n        </a>\n        <div class=\"thumb-block\">\n          <div class=\"block\">\n            <h2 class=\"title\">Likes</h2>\n            <p class=\"amount\">${likes}</p>\n          </div>\n          <div class=\"block\">\n            <h2 class=\"title\">Views</h2>\n            <p class=\"amount\">${views}</p>\n          </div>\n          <div class=\"block\">\n            <h2 class=\"title\">Comments</h2>\n            <p class=\"amount\">${comments}</p>\n          </div>\n          <div class=\"block\">\n            <h2 class=\"title\">Downloads</h2>\n            <p class=\"amount\">${downloads}</p>\n          </div>\n        </div>\n      </li>`\n      )\n      .join('');\n  }"],"names":["refs","showLoader","hideLoader","e","searchQuery","iziToast","getImage","query","BASE_URL","END_POINT","params","url","res","data","displayImages","error","lightbox","SimpleLightbox","images","markup","createMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads"],"mappings":"6vBAKA,MAAMA,EAAO,CACX,KAAM,SAAS,cAAc,cAAc,EAC3C,MAAO,SAAS,cAAc,eAAe,EAC7C,UAAW,SAAS,cAAc,YAAY,EAC9C,KAAM,SAAS,cAAc,UAAU,EACvC,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEA,SAASC,GAAa,CACdD,EAAK,SACPA,EAAK,OAAO,MAAM,QAAU,QAE/B,CAED,SAASE,GAAa,CAChBF,EAAK,SACPA,EAAK,OAAO,MAAM,QAAU,OAE/B,CAEHA,EAAK,KAAK,iBAAiB,SAAUG,GAAK,CACxCA,EAAE,eAAc,EAChB,MAAMC,EAAcJ,EAAK,MAAM,MACjC,GAAII,IAAgB,GAAI,CACpBC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,+BACT,SAAU,UAClB,CAAO,EACD,MACN,CAEAJ,EAAY,EAGZ,SAASK,EAASC,EAAO,CACrB,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGH,EACH,KAAM,QACN,YAAa,YACnB,CAAK,EACKI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GAE7C,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAI,CAAE,CACzC,CAEDN,EAASF,CAAW,EACnB,KAAKS,GAAQ,CACZC,EAAcD,EAAK,IAAI,CAC3B,CAAG,EACA,MAAME,GAAS,CACd,QAAQ,MAAMA,CAAK,CACvB,CAAG,CAEH,CAAC,EAED,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,gBAAiB,SACjB,aAAc,GAClB,CAAG,EAED,SAASH,EAAcI,EAAQ,CAG7B,GAFAlB,EAAK,KAAK,UAAY,GAElBkB,EAAO,SAAW,EAAG,CACvBb,EAAS,KAAK,CACZ,MAAO,OACP,QACE,2EACA,SAAU,UACpB,CAAO,EACD,MAEN,CACI,MAAMc,EAASC,EAAaF,CAAM,EAClClB,EAAK,KAAK,UAAYmB,EAEtBH,EAAS,QAAO,EAChBd,GACD,CAGD,SAASkB,EAAaF,EAAQ,CAC5B,OAAOA,EACJ,IACC,CAAC,CACC,aAAAG,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA,wCAC8BL,CAAa;AAAA;AAAA;AAAA,mBAGlCD,CAAY;AAAA,mBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAOSC,CAAK;AAAA;AAAA;AAAA;AAAA,gCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,gCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,gCAIRC,CAAS;AAAA;AAAA;AAAA,YAIlC,EACA,KAAK,EAAE,CACd"}
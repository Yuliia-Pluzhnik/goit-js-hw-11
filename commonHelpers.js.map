{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getImage(query) {\n    const BASE_URL = \"https://pixabay.com\";\n    const END_POINT = \"/api/\";\n    const params = new URLSearchParams({\n      key: \"43022038-5a6e0a87a795a8bbaa0a62c30\",\n      q: query,\n      type: \"photo\",\n      orientation: \"horizontal\",\n    });\n    const url = `${BASE_URL}${END_POINT}?${params}`;\n  \n    return fetch(url).then(res => res.json());\n}\n","export function showLoader(loaderElement) {\n    if (loaderElement) {\n        loaderElement.style.display = 'flex';\n    }\n}\n  \nexport function hideLoader(loaderElement) {\n    if (loaderElement) {\n        loaderElement.style.display = 'none';\n    }\n}\n\nexport function displayImages(images, listElement, iziToast, lightbox, createMarkup) {\n    listElement.innerHTML = '';\n  \n    if (images.length === 0) {\n        iziToast.info({\n            title: 'Info',\n            message: 'Sorry, there are no images matching your search query. Please try again.',\n            position: \"topRight\"\n        });\n        return;\n    };\n  \n    const markup = createMarkup(images);\n    listElement.innerHTML = markup;\n  \n    lightbox.refresh();\n    hideLoader(loaderElement);\n}\n\nexport function createMarkup(images) {\n    return images\n      .map(\n        ({\n          webformatURL,\n          largeImageURL,\n          tags,\n          likes,\n          views,\n          comments,\n          downloads,\n        }) =>\n          `<li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img\n            class=\"gallery-image\"\n            src=\"${webformatURL}\"\n            alt=\"${tags}\"\n            width=\"360\"\n          />\n        </a>\n        <div class=\"thumb-block\">\n          <div class=\"block\">\n            <h2 class=\"title\">Likes</h2>\n            <p class=\"amount\">${likes}</p>\n          </div>\n          <div class=\"block\">\n            <h2 class=\"title\">Views</h2>\n            <p class=\"amount\">${views}</p>\n          </div>\n          <div class=\"block\">\n            <h2 class=\"title\">Comments</h2>\n            <p class=\"amount\">${comments}</p>\n          </div>\n          <div class=\"block\">\n            <h2 class=\"title\">Downloads</h2>\n            <p class=\"amount\">${downloads}</p>\n          </div>\n        </div>\n      </li>`\n      )\n      .join('');\n}\n","import { getImage } from './js/pixabay-api.js';\nimport { showLoader, hideLoader, displayImages, createMarkup } from './js/render-functions.js';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst refs = {\n  form: document.querySelector(\".search-form\"),\n  input: document.querySelector(\".search-input\"),\n  list: document.querySelector(\".gallery\"),\n  loader: document.querySelector(\".loader\"),\n};\n\nrefs.form.addEventListener(\"submit\", e => {\n    e.preventDefault();\n    const searchQuery = refs.input.value;\n    if (searchQuery === \"\") {\n      iziToast.error({\n        title: 'Error',\n        message: 'Please enter a search query.',\n        position: \"topRight\"\n      });\n      return;\n    }\n  \n    showLoader(refs.loader);\n  \n    getImage(searchQuery)\n      .then(data => {\n        displayImages(data.hits, refs.list, iziToast, lightbox, createMarkup);\n      })\n      .catch(error => {\n        console.error(error);\n      })\n      .finally(() => {\n        hideLoader(refs.loader);\n      });\n});\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    captionDelay: 250,\n});\n\nwindow.onload = () => {\n    document.body.classList.add('loaded');\n    document.body.classList.remove('loaded_hiding');\n};\n"],"names":["getImage","query","BASE_URL","END_POINT","params","url","res","showLoader","loaderElement","hideLoader","displayImages","images","listElement","iziToast","lightbox","createMarkup","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","refs","e","searchQuery","data","error","SimpleLightbox"],"mappings":"6vBAAO,SAASA,EAASC,EAAO,CAC5B,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGH,EACH,KAAM,QACN,YAAa,YACnB,CAAK,EACKI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GAE7C,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAI,CAAE,CAC5C,CCZO,SAASC,EAAWC,EAAe,CAClCA,IACAA,EAAc,MAAM,QAAU,OAEtC,CAEO,SAASC,EAAWD,EAAe,CAClCA,IACAA,EAAc,MAAM,QAAU,OAEtC,CAEO,SAASE,EAAcC,EAAQC,EAAaC,EAAUC,EAAUC,EAAc,CAGjF,GAFAH,EAAY,UAAY,GAEpBD,EAAO,SAAW,EAAG,CACrBE,EAAS,KAAK,CACV,MAAO,OACP,QAAS,2EACT,SAAU,UACtB,CAAS,EACD,MAER,CACI,MAAMG,EAASD,EAAaJ,CAAM,EAClCC,EAAY,UAAYI,EAExBF,EAAS,QAAO,EAChBL,EAAW,aAAa,CAC5B,CAEO,SAASM,EAAaJ,EAAQ,CACjC,OAAOA,EACJ,IACC,CAAC,CACC,aAAAM,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA,wCAC8BL,CAAa;AAAA;AAAA;AAAA,mBAGlCD,CAAY;AAAA,mBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAOSC,CAAK;AAAA;AAAA;AAAA;AAAA,gCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,gCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,gCAIRC,CAAS;AAAA;AAAA;AAAA,YAIlC,EACA,KAAK,EAAE,CACd,CClEA,MAAMC,EAAO,CACX,KAAM,SAAS,cAAc,cAAc,EAC3C,MAAO,SAAS,cAAc,eAAe,EAC7C,KAAM,SAAS,cAAc,UAAU,EACvC,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEAA,EAAK,KAAK,iBAAiB,SAAUC,GAAK,CACtCA,EAAE,eAAc,EAChB,MAAMC,EAAcF,EAAK,MAAM,MAC/B,GAAIE,IAAgB,GAAI,CACtBb,EAAS,MAAM,CACb,MAAO,QACP,QAAS,+BACT,SAAU,UAClB,CAAO,EACD,MACD,CAEDN,EAAWiB,EAAK,MAAM,EAEtBxB,EAAS0B,CAAW,EACjB,KAAKC,GAAQ,CACZjB,EAAciB,EAAK,KAAMH,EAAK,KAAMX,EAAUC,EAAUC,CAAY,CAC5E,CAAO,EACA,MAAMa,GAAS,CACd,QAAQ,MAAMA,CAAK,CAC3B,CAAO,EACA,QAAQ,IAAM,CACbnB,EAAWe,EAAK,MAAM,CAC9B,CAAO,CACP,CAAC,EAED,MAAMV,EAAW,IAAIe,EAAe,aAAc,CAC9C,aAAc,MACd,gBAAiB,SACjB,aAAc,GAClB,CAAC,EAED,OAAO,OAAS,IAAM,CAClB,SAAS,KAAK,UAAU,IAAI,QAAQ,EACpC,SAAS,KAAK,UAAU,OAAO,eAAe,CAClD"}